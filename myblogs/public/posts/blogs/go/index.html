<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
    <title> :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="#blog
Why GO ?
![[RxCpanC.png]]
The Compilation Process Computers need machine code, they don&amp;rsquo;t understand English or even Go. We need to convert our high-level (Go) code into machine language, which is really just a set of instructions that some specific hardware can understand. In your case, your CPU.
The Go compiler&amp;rsquo;s job is to take Go code and produce machine code, an .exe file on Windows or a standard executable on Mac/Linux." />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="//localhost:1313/posts/blogs/go/" />





  
  <link rel="stylesheet" href="//localhost:1313/css/buttons.min.2bc533403a27dfe0e93105a92502b42ce4587e2e4a87d9f7d349e51e16e09478.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/code.min.00125962708925857e7b66dbc58391d55be1191a3d0ce2034de8c9cd2c481c36.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/fonts.min.4881f0c525f3ce2a1864fb6e96676396cebe1e6fcef1933e8e1dde7041004fb5.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/footer.min.2e3eb191baee58dd05a9f0104ac1fab0827bca7c64dafe0b2579f934c33a1d69.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/header.min.b6fb4423cf82a9f9d7abc9cd010223fa3d70a6526a3f28f8e17d814c06e18f9e.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/main.min.fe8dc560fccb53a458b0db19ccb7b265764ac46b68596b7e099c6793054dd457.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/menu.min.83637a90d903026bc280d3f82f96ceb06c5fc72b7c1a8d686afb5bbf818a29f7.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/pagination.min.82f6400eae7c7c6dc3c866733c2ec0579e4089608fea69400ff85b3880aa0d3c.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/post.min.fc74ca360273c1d828da3c02b8174eba435607b369d98418ccc6f2243cd4e75d.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/prism.min.9023bbc24533d09e97a51a0a42a5a7bfe4c591ae167c5551fb1d2191d11977c0.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/syntax.min.cc789ed9377260d7949ea4c18781fc58959a89287210fe4edbff44ebfc1511b6.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/terminal.min.4b367d85d0d0061435650561285afed36c46a7cf8dc6d7ed5642d98e589fa622.css">

  
  <link rel="stylesheet" href="//localhost:1313/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="//localhost:1313/favicon.png">
<link rel="apple-touch-icon" href="//localhost:1313/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="">
<meta property="og:description" content="#blog
Why GO ?
![[RxCpanC.png]]
The Compilation Process Computers need machine code, they don&amp;rsquo;t understand English or even Go. We need to convert our high-level (Go) code into machine language, which is really just a set of instructions that some specific hardware can understand. In your case, your CPU.
The Go compiler&amp;rsquo;s job is to take Go code and produce machine code, an .exe file on Windows or a standard executable on Mac/Linux." />
<meta property="og:url" content="//localhost:1313/posts/blogs/go/" />
<meta property="og:site_name" content="Terminal" />

  <meta property="og:image" content="//localhost:1313/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">













</head>
<body>


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/showcase" >Showcase</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="//localhost:1313/posts/blogs/go/"></a>
  </h1>
  <div class="post-meta"></div>

  
  


  

  <div class="post-content"><div>
        <p>#blog</p>
<p>Why GO ?</p>
<p>![[RxCpanC.png]]</p>
<h1 id="the-compilation-process">The Compilation Process<a href="#the-compilation-process" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Computers need machine code, they don&rsquo;t understand English or even Go. We need to convert our high-level (Go) code into machine language, which is really just a set of instructions that some specific hardware can understand. In your case, your CPU.</p>
<p>The Go compiler&rsquo;s job is to take Go code and produce machine code, an <code>.exe</code> file on Windows or a standard executable on Mac/Linux.</p>
<p>![[gorfR5MNc.png]]</p>
<h2 id="go-program-structure">Go program structure<a href="#go-program-structure" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>We&rsquo;ll go over this all later in more detail, but to sate your curiosity:</p>
<ol>
<li><code>package main</code> lets the Go compiler know that we want this code to compile and run as a standalone program, as opposed to being a library that&rsquo;s imported by other programs.</li>
<li><code>import &quot;fmt&quot;</code> imports the <a href="https://pkg.go.dev/fmt"><code>fmt</code> (formatting) package</a> from the <a href="https://pkg.go.dev/std">standard library</a>. It allows us to use <code>fmt.Println</code> to print to the console.</li>
<li><code>func main()</code> defines the <code>main</code> function, the entry point for a Go program.</li>
</ol>
<h2 id="two-kinds-of-bugs">Two kinds of bugs<a href="#two-kinds-of-bugs" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>Generally speaking, there are two kinds of errors in programming:</p>
<ol>
<li><strong>Compilation errors.</strong> Occur when code is compiled. It&rsquo;s generally better to have compilation errors because they&rsquo;ll never accidentally make it into production. You can&rsquo;t ship a program with a compiler error because the resulting executable won&rsquo;t even be created.</li>
<li><strong>Runtime errors.</strong> Occur when a program is running. These are generally worse because they can cause your program to crash or behave unexpectedly.</li>
</ol>
<h1 id="compiled-vs-interpreted">Compiled vs Interpreted<a href="#compiled-vs-interpreted" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>You can run a compiled program <em>without</em> the original source code. You don&rsquo;t need the compiler anymore after it&rsquo;s done its job. That&rsquo;s how most videogames are distributed! Players don&rsquo;t need to install the correct version of <code>python</code> to run a PC game: they just download the executable game and run it.</p>
<p><img alt="compiler vs interpreter" src="https://storage.googleapis.com/qvault-webapp-dynamic-assets/course_assets/7RBQRNA.png"></p>
<p>With interpreted languages like Python and Ruby, the code is interpreted at <a href="https://en.wikipedia.org/wiki/Runtime_(program_lifecycle_phase)">runtime</a> by a separate program known as the &ldquo;interpreter&rdquo;. Distributing code for users to run can be a pain because they need to have an interpreter installed, and they need access to the source code.</p>
<h2 id="examples-of-compiled-languages">Examples of compiled languages<a href="#examples-of-compiled-languages" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ul>
<li>Go</li>
<li>C</li>
<li>C++</li>
<li>Rust</li>
</ul>
<h2 id="examples-of-interpreted-languages">Examples of interpreted languages<a href="#examples-of-interpreted-languages" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<ul>
<li>JavaScript (sometimes JIT-compiled, but a similar concept)</li>
<li>Python</li>
<li>Ruby</li>
</ul>
<h1 id="small-memory-footprint">Small memory footprint<a href="#small-memory-footprint" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Go programs are fairly lightweight. Each program includes a small amount of extra code that&rsquo;s included in the executable binary called the <a href="https://go.dev/doc/faq#runtime">Go Runtime</a>. One of the purposes of the Go runtime is to clean up unused memory at runtime. It includes a <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">garbage collector</a> that automatically frees up memory that&rsquo;s no longer in use.</p>
<h2 id="comparison">Comparison<a href="#comparison" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>As a general rule, Java programs use <em>more</em> memory than comparable Go programs. There are several reasons for this, but one of them is that Java uses a virtual machine to interpret bytecode at runtime and typically allocates more on the <a href="https://courses.grainger.illinois.edu/cs225/fa2022/resources/stack-heap/">heap</a>.</p>
<p>On the other hand, Rust and C programs use slightly <em>less</em> memory than Go programs because more control is given to the developer to optimize the memory usage of the program. The Go runtime just handles it for us automatically.</p>
<h2 id="idle-memory-usage">Idle memory usage<a href="#idle-memory-usage" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p><img alt="idle memory" src="https://miro.medium.com/max/1400/1*Ggs-bJxobwZmrbfuoWGpFw.png"></p>
<p>In the chart above, <a href="https://medium.com/@dexterdarwich/comparison-between-java-go-and-rust-fdb21bd5fb7c">Dexter Darwich compares the memory usage</a> of three <em>very</em> simple programs written in Java, Go, and Rust. As you can see, Go and Rust use <em>very</em> little memory when compared to Java.</p>
<h1 id="the-initial-statement-of-an-if-block">The initial statement of an if block<a href="#the-initial-statement-of-an-if-block" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>An <code>if</code> conditional can have an &ldquo;initial&rdquo; statement. The variable(s) created in the initial statement are <em>only</em> defined within the scope of the <code>if</code> body.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">INITIAL_STATEMENT</span>; <span style="color:#a6e22e">CONDITION</span> {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="why-would-i-use-this">Why would I use this?<a href="#why-would-i-use-this" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>It has two valuable purposes:</p>
<ol>
<li>It&rsquo;s a bit shorter</li>
<li>It limits the scope of the initialized variable(s) to the <code>if</code> block</li>
</ol>
<p>For example, instead of writing:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">length</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getLength</span>(<span style="color:#a6e22e">email</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">length</span> &lt; <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Email is invalid&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>We can do:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">length</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">getLength</span>(<span style="color:#a6e22e">email</span>); <span style="color:#a6e22e">length</span> &lt; <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Email is invalid&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In the example above, <code>length</code> isn&rsquo;t available in the parent scope, which is nice because we don&rsquo;t need it there - we won&rsquo;t accidentally use it elsewhere in the function.</p>
<h1 id="functions">Functions<a href="#functions" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Functions in Go can take zero or more arguments.</p>
<p>To make code easier to read, the variable type comes <em>after</em> the variable name.</p>
<p>For example, the following function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">sub</span>(<span style="color:#a6e22e">x</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span><span style="color:#f92672">-</span><span style="color:#a6e22e">y</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Accepts two integer parameters and returns another integer.</p>
<p>Here, <code>func sub(x int, y int) int</code> is known as the &ldquo;function signature&rdquo;.</p>
<h1 id="guard-clauses-provide-a-linear-approach-to-logic-trees">Guard clauses provide a linear approach to logic trees<a href="#guard-clauses-provide-a-linear-approach-to-logic-trees" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<h2 id="early-returns">Early Returns<a href="#early-returns" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>Go supports the ability to return early from a function. This is a powerful feature that can clean up code, especially when used as guard clauses.</p>
<p>Guard Clauses leverage the ability to <code>return</code> early from a function (or <code>continue</code> through a loop) to make nested conditionals one-dimensional. Instead of using if/else chains, we just return early from the function at the end of each conditional block.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">divide</span>(<span style="color:#a6e22e">dividend</span>, <span style="color:#a6e22e">divisor</span> <span style="color:#66d9ef">int</span>) (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">divisor</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">New</span>(<span style="color:#e6db74">&#34;Can&#39;t divide by zero&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">dividend</span><span style="color:#f92672">/</span><span style="color:#a6e22e">divisor</span>, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Error handling in Go naturally encourages developers to make use of guard clauses. When I started writing more JavaScript, I was disappointed to see how many nested conditionals existed in the code I was working on.</p>
<p>Let’s take a look at an exaggerated example of nested conditional logic:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getInsuranceAmount</span>(<span style="color:#a6e22e">status</span> <span style="color:#a6e22e">insuranceStatus</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">amount</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">hasInsurance</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">amount</span> = <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">isTotaled</span>(){
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">amount</span> = <span style="color:#ae81ff">10000</span>
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">isDented</span>(){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">amount</span> = <span style="color:#ae81ff">160</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">isBigDent</span>(){
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">amount</span> = <span style="color:#ae81ff">270</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">amount</span> = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">amount</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This could be written with guard clauses instead:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">getInsuranceAmount</span>(<span style="color:#a6e22e">status</span> <span style="color:#a6e22e">insuranceStatus</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">hasInsurance</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">isTotaled</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">10000</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">isDented</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">status</span>.<span style="color:#a6e22e">isBigDent</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">270</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">160</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The example above is <em>much</em> easier to read and understand. When writing code, it’s important to try to reduce the cognitive load on the reader by reducing the number of entities they need to think about at any given time.</p>
<p>In the first example, if the developer is trying to figure out when <code>270</code> is returned, they need to think about each branch in the logic tree and try to remember which cases matter and which cases don’t. With the one-dimensional structure offered by guard clauses, it’s as simple as stepping through each case in order.</p>
<h1 id="functions-as-values">Functions as values<a href="#functions-as-values" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Go supports <a href="https://developer.mozilla.org/en-US/docs/Glossary/First-class_Function">first-class</a> and higher-order functions, which are just fancy ways of saying &ldquo;functions as values&rdquo;. Functions are just another type &ndash; like <code>int</code>s and <code>string</code>s and <code>bool</code>s.</p>
<p>Let&rsquo;s assume we have two simple functions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mul</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>We can create a new <code>aggregate</code> function that accepts a function as its 4th argument:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">aggregate</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">c</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">arithmetic</span> <span style="color:#66d9ef">func</span>(<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">firstResult</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">arithmetic</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">secondResult</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">arithmetic</span>(<span style="color:#a6e22e">firstResult</span>, <span style="color:#a6e22e">c</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">secondResult</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>It calls the given <code>arithmetic</code> function (which could be <code>add</code> or <code>mul</code>, or any other function that accepts two <code>int</code>s and returns an <code>int</code>) and applies it to three inputs instead of two. It can be used like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">aggregate</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#a6e22e">add</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// sum is 9
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">product</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">aggregate</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#a6e22e">mul</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// product is 24
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h1 id="anonymous-functions">Anonymous Functions<a href="#anonymous-functions" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Anonymous functions are true to form in that they have <em>no name</em>. They&rsquo;re useful when defining a function that will only be used once or to create a quick <a href="https://en.wikipedia.org/wiki/Closure_(computer_programming)">closure</a>.</p>
<p>Let&rsquo;s say we have a function <code>conversions</code> that accepts another function, <code>converter</code> as input:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">conversions</span>(<span style="color:#a6e22e">converter</span> <span style="color:#66d9ef">func</span>(<span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">z</span> <span style="color:#66d9ef">int</span>) (<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">convertedX</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">converter</span>(<span style="color:#a6e22e">x</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">convertedY</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">converter</span>(<span style="color:#a6e22e">y</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">convertedZ</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">converter</span>(<span style="color:#a6e22e">z</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">convertedX</span>, <span style="color:#a6e22e">convertedY</span>, <span style="color:#a6e22e">convertedZ</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>We <em>could</em> define a function normally and then pass it in by name&hellip; but it&rsquo;s usually easier to just define it anonymously:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">double</span>(<span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">a</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// using a named function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">newX</span>, <span style="color:#a6e22e">newY</span>, <span style="color:#a6e22e">newZ</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">conversions</span>(<span style="color:#a6e22e">double</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// newX is 2, newY is 4, newZ is 6
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// using an anonymous function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">newX</span>, <span style="color:#a6e22e">newY</span>, <span style="color:#a6e22e">newZ</span> = <span style="color:#a6e22e">conversions</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>	    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">a</span>
</span></span><span style="display:flex;"><span>	}, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// newX is 1, newY is 4, newZ is 9
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>Please check [[Advanced GO Concepts  ]]</p>
<h1 id="defer">Defer<a href="#defer" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>The <code>defer</code> keyword is a fairly unique feature of Go. It allows a function to be executed automatically <em>just before</em> its enclosing function returns. The deferred call&rsquo;s arguments are evaluated immediately, but the function call is not executed until the surrounding function returns.</p>
<p>Deferred functions are typically used to clean up resources that are no longer being used. Often to close database connections, file handlers and the like.</p>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">GetUsername</span>(<span style="color:#a6e22e">dstName</span>, <span style="color:#a6e22e">srcName</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">username</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">err</span> <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Open a connection to a database
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">conn</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">db</span>.<span style="color:#a6e22e">Open</span>(<span style="color:#a6e22e">srcName</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Close the connection *anywhere* the GetUsername function returns
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">conn</span>.<span style="color:#a6e22e">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">username</span>, <span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">db</span>.<span style="color:#a6e22e">FetchUser</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">// The defer statement is auto-executed if we return here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#a6e22e">err</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// The defer statement is auto-executed if we return here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">username</span>, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In the above example, the <code>conn.Close()</code> function is not called here:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">conn</span>.<span style="color:#a6e22e">Close</span>()
</span></span></code></pre></div><p>It&rsquo;s called:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#a6e22e">err</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// or here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">return</span> <span style="color:#a6e22e">username</span>, <span style="color:#66d9ef">nil</span>
</span></span></code></pre></div><p>Depending on whether the <code>FetchUser</code> function errored. (We&rsquo;ll cover errors later).</p>
<p>Defer is a great way to <strong>make sure</strong> that something happens before a function exits, even if there are multiple return statements, a common occurrence in Go.</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="//localhost:1313/posts/blogs/golang/" class="button inline prev">
        Golangg
      </a>
    
    
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
